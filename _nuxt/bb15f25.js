(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{677:function(t,e,n){"use strict";var r=n(7),component=Object(r.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{viewBox:"0 0 1262 1710.258",fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"}},t.$listeners),[n("path",{attrs:{d:"M1196.495 713.258H1090V459.592C1090 206.307 884.198.242 630.999.242 377.799.242 172 206.442 172 459.892v253.366H66.686C30.195 713.258 0 742.241 0 778.731v766.42c0 91.079 74.712 165.106 165.792 165.106h931.597c91.08 0 164.611-74.027 164.611-165.106v-766.42c0-36.49-29.015-65.473-65.505-65.473zM304 459.892c0-180.588 146.664-327.508 326.999-327.508C811.335 132.384 958 279.168 958 459.592v253.666H304V459.892zm826 1085.259c0 18.218-14.395 33.106-32.611 33.106H165.792c-18.216 0-33.792-14.889-33.792-33.106V845.258h998v699.893z"}}),n("path",{attrs:{d:"M631 1409.707c36.491 0 66-29.58 66-66.071v-237.854c0-36.49-29.51-66.07-66-66.07-36.49 0-66 29.58-66 66.07v237.854c0 36.491 29.509 66.071 66 66.071z"}})])}),[],!1,null,null,null);e.a=component.exports},722:function(t,e,n){"use strict";n.r(e);n(38),n(25),n(37),n(12),n(51),n(36),n(52);var r=n(14),o=n(11),l=(n(75),n(0)),c=n(58),v=n(7),d=Object(v.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{width:"22",height:"22",fill:"none",viewBox:"0 0 24 24","data-testid":"googleIcon"}},t.$listeners),[n("path",{attrs:{fill:"#fff","fill-rule":"evenodd",d:"M12.62 10.218v3.564s3.311-.005 4.66-.005c-.73 2.311-1.866 3.57-4.66 3.57-2.828 0-5.036-2.394-5.036-5.347 0-2.953 2.208-5.347 5.036-5.347 1.495 0 2.46.55 3.346 1.314.71-.74.65-.846 2.454-2.625C16.888 3.887 14.853 3 12.62 3 7.86 3 4 7.03 4 12s3.86 9 8.62 9c7.115 0 8.854-6.47 8.278-10.782H12.62z","clip-rule":"evenodd"}})])}),[],!1,null,null,null).exports,f=Object(v.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{width:"22",height:"22",fill:"none",viewBox:"0 0 24 24","data-testid":"appleIcon"}},t.$listeners),[n("path",{attrs:{fill:"#fff","fill-rule":"evenodd",d:"M14.605 5.922c.61-.758 1.074-1.829.906-2.922-.998.067-2.165.68-2.846 1.48-.621.726-1.131 1.804-.932 2.85 1.092.034 2.218-.595 2.872-1.408zM20 16.206c-.437.936-.647 1.354-1.21 2.183-.785 1.157-1.892 2.597-3.264 2.608-1.219.012-1.533-.768-3.188-.758-1.654.008-1.999.773-3.22.76-1.371-.01-2.42-1.31-3.205-2.467-2.196-3.233-2.427-7.027-1.073-9.045.964-1.433 2.483-2.271 3.91-2.271 1.454 0 2.368.77 3.571.77 1.167 0 1.878-.773 3.558-.773 1.272 0 2.62.67 3.58 1.826-3.145 1.666-2.636 6.006.541 7.167z","clip-rule":"evenodd"}})])}),[],!1,null,null,null).exports,h=Object(v.a)({},(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",t._g({attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512","fill-rule":"evenodd","clip-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2"}},t.$listeners),[n("path",{attrs:{d:"M374.245 285.825l14.104-91.961h-88.233v-59.677c0-25.159 12.325-49.682 51.845-49.682h40.117V6.214S355.67 0 320.864 0c-72.67 0-120.165 44.042-120.165 123.775v70.089h-80.777v91.961h80.777v222.31A320.442 320.442 0 00250.408 512a320.42 320.42 0 0049.708-3.865v-222.31h74.129z",fill:"#fff","fill-rule":"nonzero"}})])}),[],!1,null,null,null).exports,m=n(240),w=n(677);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function x(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var C=l.a.extend({name:"Login",components:{GoogleIcon:d,AppleIcon:f,FacebookIcon:h,UserIcon:m.a,LockIcon:w.a},data:function(){return{phone:"",password:""}},methods:x(x(x({verifyUser:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,data,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.showLoading(),e.next=4,t.$api.post("/security/exist/user",{username:t.phone});case 4:if(n=e.sent,n.data.data.info.exists){e.next=11;break}r={title:"Error",message:"loginview.userNotExist",type:"danger",closable:!0},t.showToastWithProps(r),e.next=21;break;case 11:return e.next=13,t.$api.post("/oauth/login",{username:t.phone,password:t.password});case 13:return o=e.sent,data=o.data,t.$cookies.set("token",data.token),e.next=18,t.$apiAuth.get("/client/");case 18:l=e.sent,t.setUser(l.data.data),t.$router.push("/feed");case 21:t.hideLoading(),e.next=28;break;case 24:e.prev=24,e.t0=e.catch(0),t.hideLoading(),401===e.t0.response.status&&t.showToastWithProps({title:"Error",message:"loginview.wrongPassword",type:"danger",closable:!0});case 28:case"end":return e.stop()}}),e,null,[[0,24]])})))()}},Object(c.b)("loading",["showLoading","hideLoading"])),Object(c.b)("toast",["showToast","hideToast","showToastWithProps"])),Object(c.b)("user",["setUser"]))}),y=Object(v.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[t._m(0),t._v(" "),n("div",{staticClass:"col-md-6 center-hv"},[n("div",{staticClass:"d-flex flex-column w-75 px-0 px-md-2"},[n("h2",{staticClass:"mb-3 mx-4 text-center"},[t._v(t._s(t.$t("loginview.title")))]),t._v(" "),n("ValidationObserver",{attrs:{tag:"form"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.invalid;return[n("ValidationProvider",{attrs:{name:" ",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("div",{staticClass:"input-group has-validation mb-3"},[n("span",{staticClass:"input-group-text"},[n("UserIcon",{staticClass:"icon icon-no-hover"})],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",class:o,attrs:{type:"text",placeholder:t.$t("loginview.user")},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}}),t._v(" "),r&&r[0]?n("div",{staticClass:"invalid-feedback"},[t._v("\n                  "+t._s(r[0])+"\n                ")]):t._e()])]}}],null,!0)}),t._v(" "),n("ValidationProvider",{attrs:{name:" ",rules:"required"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.errors,o=e.classes;return[n("div",{staticClass:"input-group has-validation mb-3"},[n("span",{staticClass:"input-group-text"},[n("LockIcon",{staticClass:"icon icon-no-hover"})],1),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",class:o,attrs:{type:"password",placeholder:t.$t("loginview.password")},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("div",{staticClass:"invalid-feedback"},[t._v(t._s(r[0]))])])]}}],null,!0)}),t._v(" "),n("p",{staticClass:"text-primary text-center"},[n("small",[t._v(t._s(t.$t("loginview.forgotPassword"))+"\n                "),n("NuxtLink",{staticClass:"text-warning",attrs:{to:"/auth/recover"}},[t._v(t._s(t.$t("loginview.retrieve")))])],1)]),t._v(" "),n("div",{staticClass:"d-grid gap-2"},[n("button",{staticClass:"btn btn-primary mb-2 text-warning",attrs:{type:"button",disabled:r},on:{click:t.verifyUser}},[t._v("\n                "+t._s(t.$t("loginview.enter"))+"\n              ")])]),t._v(" "),n("p",{staticClass:"text-primary text-center my-2"},[n("small",[t._v(t._s(t.$t("loginview.noAccount"))+"\n                "),n("NuxtLink",{staticClass:"text-warning",attrs:{to:"/auth/register"}},[t._v(t._s(t.$t("loginview.register")))])],1)])]}}])}),t._v(" "),n("div",{staticClass:"divider d-flex align-items-center my-2"},[n("p",{staticClass:"text-center fw-bold mx-3 mb-0"},[t._v("\n              "+t._s(t.$t("loginview.or"))+"\n            ")])]),t._v(" "),n("div",{staticClass:"d-flex justify-content-center"},[n("button",{staticClass:"btn btn-facebook btn-icon",attrs:{type:"button"}},[n("FacebookIcon")],1),t._v(" "),n("button",{staticClass:"btn btn-info btn-icon mx-2 text-white",attrs:{type:"button"}},[n("GoogleIcon")],1),t._v(" "),n("button",{staticClass:"btn btn-primary btn-icon",attrs:{type:"button"}},[n("AppleIcon")],1)])],1)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-md-6 center-hv d-none d-md-flex"},[e("img",{attrs:{src:"assets/img/dance.png",height:"400",alt:"dance"}})])}],!1,null,null,null);e.default=y.exports}}]);