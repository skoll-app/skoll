(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{706:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(682),l=r(687),c=n.a.extend({components:{TextInput:o.default,Select:l.default},data:function(){return{register:{age:null,gender:{},interest:{}},genderOptions:[{label:"registerview.form.genderOptions.male",value:"male"},{label:"registerview.form.genderOptions.female",value:"female"},{label:"registerview.form.genderOptions.other",value:"other"}],interestOptions:[{label:"registerview.form.interestOptions.men",value:"men"},{label:"registerview.form.interestOptions.women",value:"women"},{label:"registerview.form.interestOptions.both",value:"both"}]}},methods:{next:function(){this.$emit("next")},prev:function(){this.$emit("prev")},registerUser:function(){this.$emit("setUser",this.register)}}}),d=r(7),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h4",{staticClass:"mb-5",domProps:{innerHTML:e._s(e.$t("registerview.letUsKnowYou"))}}),e._v(" "),t("ValidationObserver",{attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.invalid;return[t("TextInput",{staticClass:"mb-2",attrs:{name:e.$t("registerview.form.age"),placeholder:e.$t("registerview.form.age"),rules:"required|max:2|numeric",size:"sm",addVeeClasses:""},model:{value:e.register.age,callback:function(t){e.$set(e.register,"age",t)},expression:"register.age"}}),e._v(" "),t("Select",{staticClass:"mb-2",attrs:{name:e.$t("registerview.form.gender"),options:e.genderOptions,rules:"required",size:"sm",addVeeClasses:""},model:{value:e.register.gender,callback:function(t){e.$set(e.register,"gender",t)},expression:"register.gender"}}),e._v(" "),t("Select",{staticClass:"mb-2",attrs:{name:e.$t("registerview.form.interest"),options:e.interestOptions,rules:"required",size:"sm",addVeeClasses:""},model:{value:e.register.interest,callback:function(t){e.$set(e.register,"interest",t)},expression:"register.interest"}}),e._v(" "),t("div",{staticClass:"d-flex justify-content-between"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.prev}},[e._v("\n          "+e._s(e.$t("registerview.form.back"))+"\n        ")]),e._v(" "),t("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:n},on:{click:e.registerUser}},[e._v("\n          "+e._s(e.$t("registerview.form.continue"))+"\n        ")])])]}}])})],1)}),[],!1,null,"6f77bf31",null);t.default=component.exports},707:function(e,t,r){"use strict";r.r(t);var n=r(0),o=r(682),l=r(687),c=n.a.extend({props:{title:{type:String,default:""}},components:{TextInput:o.default,Select:l.default},data:function(){return{otp:""}},methods:{next:function(){this.$emit("next"),this.$emit("setOtp",this.otp)},prev:function(){this.$emit("prev")}}}),d=r(7),component=Object(d.a)(c,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("h4",{staticClass:"mb-5",domProps:{innerHTML:e._s(e.$t(e.title))}}),e._v(" "),t("p",[e._v(e._s(e.$t("registerview.enterCode")))]),e._v(" "),t("ValidationObserver",{attrs:{tag:"form"},scopedSlots:e._u([{key:"default",fn:function(r){var n=r.invalid;return[t("TextInput",{staticClass:"mb-2",attrs:{name:e.$t("registerview.form.otpCode"),placeholder:e.$t("registerview.form.otpCode"),rules:"required|digits:5",size:"sm",addVeeClasses:""},model:{value:e.otp,callback:function(t){e.otp=t},expression:"otp"}}),e._v(" "),t("div",{staticClass:"d-flex justify-content-between p-1"},[t("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:e.prev}},[e._v("\n          "+e._s(e.$t("registerview.form.back"))+"\n        ")]),e._v(" "),t("button",{staticClass:"btn btn-primary",attrs:{type:"button",disabled:n},on:{click:e.next}},[e._v("\n          "+e._s(e.$t("registerview.form.continue"))+"\n        ")])])]}}])})],1)}),[],!1,null,"6b31de26",null);t.default=component.exports},747:function(e,t,r){"use strict";r.r(t);r(38),r(25),r(37),r(12),r(52),r(36),r(53);var n=r(14),o=r(10),l=(r(76),r(0)),c=r(54),d=r(748),v=r(706),f=r(707);function m(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var w=l.a.extend({components:{Confirm:d.default,Otp:f.default,KnowBetter:v.default},data:function(){return{slickOptions:{arrows:!1,edgeFriction:.35,infinite:!1,speed:500,slidesToShow:1,slidesToScroll:1,draggable:!1,swipe:!1},user:{}}},methods:h(h({next:function(){var e;null===(e=this.$refs.carousel)||void 0===e||e.next()},prev:function(){var e;null===(e=this.$refs.carousel)||void 0===e||e.prev()},setUser:function(e){this.user=h(h({},this.user),e)},validateOtp:function(e){var t=this;return Object(n.a)(regeneratorRuntime.mark((function r(){var n,o,l;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.showLoading(),r.next=4,t.$api.post("/security/validate/otp",{sessionId:t.user.sessionId,otp:e});case 4:t.hideLoading(),t.next(),r.next=13;break;case 8:r.prev=8,r.t0=r.catch(0),t.hideLoading(),l={title:"error",message:(null===(o=null===(n=r.t0.response)||void 0===n?void 0:n.data)||void 0===o?void 0:o.message)||"Error en el registro",type:"danger",timer:5e3},t.showToastWithProps(l);case 13:case"end":return r.stop()}}),r,null,[[0,8]])})))()},generateOTP:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.showLoading(),t.next=4,e.$api.post("/security/generate/otp",{sessionId:e.user.sessionId,check:"verifyUser"});case 4:e.hideLoading(),e.next(),t.next=13;break;case 8:t.prev=8,t.t0=t.catch(0),e.hideLoading(),o={title:"error",message:(null===(n=null===(r=t.t0.response)||void 0===r?void 0:r.data)||void 0===n?void 0:n.message)||"Error en el registro",type:"danger",timer:5e3},e.showToastWithProps(o);case 13:case"end":return t.stop()}}),t,null,[[0,8]])})))()},registerUser:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){var r,n,o,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.showLoading(),t.next=4,e.$api.post("/client/register",{age:e.user.age,gender:e.user.gender.value,interestGender:e.user.interest.value,lat:0,log:0,password:e.user.password,sessionId:e.user.sessionId});case 4:e.hideLoading(),o={title:"success",message:"Registrado",type:"success",timer:5e3},e.showToastWithProps(o),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(0),e.hideLoading(),l={title:"error",message:(null===(n=null===(r=t.t0.response)||void 0===r?void 0:r.data)||void 0===n?void 0:n.message)||"Error en el registro",type:"danger",timer:5e3},e.showToastWithProps(l);case 14:case"end":return t.stop()}}),t,null,[[0,9]])})))()},validateAndRegister:function(e){this.validateOtp(e),this.registerUser()},setUserAndGenerateOtp:function(e){this.setUser(e),this.generateOTP()}},Object(c.b)("loading",["showLoading","hideLoading"])),Object(c.b)("toast",["showToastWithProps"]))}),O=r(7),component=Object(O.a)(w,(function(){var e=this,t=e._self._c;e._self._setupProxy;return t("div",[t("VueSlickCarousel",e._b({ref:"carousel",staticClass:"slider"},"VueSlickCarousel",e.slickOptions,!1),[t("Confirm",{on:{next:e.next,setUser:e.setUser}}),e._v(" "),t("Otp",{attrs:{title:"registerview.newClient"},on:{prev:e.prev,setOtp:e.validateOtp}}),e._v(" "),t("KnowBetter",{on:{prev:e.prev,setUser:e.setUserAndGenerateOtp}}),e._v(" "),t("Otp",{attrs:{title:"registerview.almostFinish"},on:{prev:e.prev,setOtp:e.validateAndRegister}})],1)],1)}),[],!1,null,"bf1dce8c",null);t.default=component.exports}}]);